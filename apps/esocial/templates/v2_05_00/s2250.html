
{% load esocial_custom_tags %}
<form id="form_json">

<div class="row">

<div id="evtAvPrevio__div">
    <div class="col-md-12">
        <h4>Evento Aviso Prévio. Regras de validação: REGRA_AVISO_PREVIO_DT_FUTURA REGRA_DUPLICIDADE_AVISO_PREVIO REGRA_EVENTOS_EXTEMP REGRA_EVENTO_EXT_SEM_IMPACTO_FOPAG REGRA_EXCLUI_EVENTO_AVISO_PREVIO REGRA_EXISTE_INFO_EMPREGADOR REGRA_EXISTE_VINCULO REGRA_EXTEMP_REINTEGRACAO REGRA_RETIFICA_MESMO_VINCULO REGRA_VALIDA_TRABALHADOR_BASE_CNIS REGRA_VINCULO_ATIVO_NA_DTEVENTO</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="ideEvento__div">
    <div class="col-md-12">
        <h4>Informações de Identificação do Evento.</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="indRetif__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Identificador de retificação<a data-toggle="tooltip" title="Informe [1] para arquivo original ou [2] para arquivo de retificação. Valores Válidos: 1, 2."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <select id="evtAvPrevio__ideEvento__id__indRetif" name="[evtAvPrevio][ideEvento][indRetif]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}}>
            <option value="">---</option>
            </select>
        </div>
    </div>
</div>

<div id="nrRecibo__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Número do recibo<a data-toggle="tooltip" title="Preencher com o número do recibo do arquivo a ser retificado. Validação: O preenchimento é obrigatório se {indRetif} = [2]. Deve ser um recibo de entrega válido, correspondente ao arquivo que está sendo retificado."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__ideEvento__id__nrRecibo" maxlength="40" value="{{original.evento_json|readjson:'evtAvPrevio.ideEvento.nrRecibo'}}" name="[evtAvPrevio][ideEvento][nrRecibo]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="tpAmb__div">
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label text-right">Identificação do ambiente</label>
            <select name="[evtAvPrevio][ideEvento][tpAmb]" id="evtAvPrevio__ideEvento__id__tpAmb_disabled" disabled="">
                <option value="">---------</option>
                <option value="1" {% ifequal original.tpamb 1 %}selected{% endifequal %}>1 - Produção</option>
                <option value="2" {% ifequal original.tpamb 2 %}selected{% endifequal %}>2 - Produção restrita.</option>
            </select>
            <input type="hidden" name="[evtAvPrevio][ideEvento][tpAmb]" id="evtAvPrevio__ideEvento__id__tpAmb" value="{{original.tpamb}}">
        </div>
    </div>
</div>
<div id="procEmi__div">
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label text-right">Processo de emissão do evento</label>
            <select name="[evtAvPrevio][ideEvento][procEmi]" id="evtAvPrevio__ideEvento__id__procEmi_disabled" disabled="">
                <option value="1" {% ifequal original.procemi 1 %}selected{% endifequal %}>1 - Aplicativo do empregador</option>
                <option value="2" {% ifequal original.procemi 2 %}selected{% endifequal %}>2 - Aplicativo governamental - Empregador Doméstico</option>
                <option value="3" {% ifequal original.procemi 3 %}selected{% endifequal %}>3 - Aplicativo governamental - Web Geral</option>
                <option value="4" {% ifequal original.procemi 4 %}selected{% endifequal %}>4 - Aplicativo governamental - Simplificado Pessoa Jurídica</option>
                <option value="5" {% ifequal original.procemi 5 %}selected{% endifequal %}>5 - Aplicativo governamental - Segurado Especial.</option>
            </select>
            <input type="hidden" name="[evtAvPrevio][ideEvento][procEmi]" id="evtAvPrevio__ideEvento__id__procEmi" value="{{original.procemi}}">
        </div>
    </div>
</div>
<div id="verProc__div">
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label text-right">Versão do processo</label>
            <input type="text" name="[evtAvPrevio][ideEvento][verProc]" value="{{original.procemi}}" class="vTextField" maxlength="20" id="evtAvPrevio__ideEvento__id__verProc_disabled" disabled="">
            <input type="hidden" name="[evtAvPrevio][ideEvento][verProc]" id="evtAvPrevio__ideEvento__id__verProc" value="{{original.procemi}}">
        </div>
    </div>
</div>
            </div>
        </blockquote>
    </div>
</div>

<div id="ideEmpregador__div">
    <div class="col-md-12">
        <h4>Informações de identificação do empregador.</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="tpInsc__div">
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label text-right">Tipo de inscrição</label>
            <select name="[evtAvPrevio][ideEmpregador][tpInsc]" id="evtAvPrevio__ideEmpregador__id__tpInsc_disabled" disabled="">
                <option value="">---------</option>
                <option value="1" {% ifequal original.tpinsc 1 %}selected{% endifequal %}>1 - CNPJ</option>
                <option value="2" {% ifequal original.tpinsc 2 %}selected{% endifequal %}>2 - CPF</option>
                <option value="3" {% ifequal original.tpinsc 3 %}selected{% endifequal %}>3 - CAEPF (Cadastro de Atividade Econômica de Pessoa Física)</option>
                <option value="4" {% ifequal original.tpinsc 4 %}selected{% endifequal %}>4 - CNO (Cadastro Nacional de Obra)</option>
                <option value="5" {% ifequal original.tpinsc 5 %}selected{% endifequal %}>5 - CGC</option>
                <option value="6" {% ifequal original.tpinsc 6 %}selected{% endifequal %}>6 - CEI</option>
            </select>
            <input type="hidden" name="[evtAvPrevio][ideEmpregador][tpInsc]" id="evtAvPrevio__ideEmpregador__id__tpInsc" value="{{original.tpinsc}}">
        </div>
    </div>
</div>
<div id="nrInsc__div">
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label text-right">Número de inscrição (CPF/CNPJ)</label>
            <input type="text" id="evtAvPrevio__ideEmpregador__id__nrInsc_disabled" name="[evtAvPrevio][ideEmpregador][nrInsc]" value="{{original.nrinsc}}" class="vTextField" maxlength="15" disabled="">
            <input type="hidden" name="[evtAvPrevio][ideEmpregador][nrInsc]" id="evtAvPrevio__ideEmpregador__id__nrInsc" value="{{original.nrinsc}}">
        </div>
    </div>
</div>
            </div>
        </blockquote>
    </div>
</div>

<div id="ideVinculo__div">
    <div class="col-md-12">
        <h4>Informações de Identificação do Trabalhador e do Vínculo.</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="cpfTrab__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>CPF<a data-toggle="tooltip" title="Preencher com o número do CPF do trabalhador. Validação: Deve ser um CPF válido."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__ideVinculo__id__cpfTrab" maxlength="11" value="{{original.evento_json|readjson:'evtAvPrevio.ideVinculo.cpfTrab'}}" name="[evtAvPrevio][ideVinculo][cpfTrab]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="nisTrab__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>NIS<a data-toggle="tooltip" title="Preencher com o Número de Identificação Social - NIS, o qual pode ser o PIS, PASEP ou NIT."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__ideVinculo__id__nisTrab" maxlength="11" value="{{original.evento_json|readjson:'evtAvPrevio.ideVinculo.nisTrab'}}" name="[evtAvPrevio][ideVinculo][nisTrab]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="matricula__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Matricula<a data-toggle="tooltip" title="Matrícula atribuída ao trabalhador pela empresa ou, no caso de servidor público, a matrícula constante no Sistema de Administração de Recursos Humanos do órgão. Validação: Deve corresponder à matrícula informada pelo empregador no evento S-2200 do respectivo vínculo trabalhista."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__ideVinculo__id__matricula" maxlength="30" value="{{original.evento_json|readjson:'evtAvPrevio.ideVinculo.matricula'}}" name="[evtAvPrevio][ideVinculo][matricula]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}} />
        </div>
    </div>
</div>

            </div>
        </blockquote>
    </div>
</div>

<div id="infoAvPrevio__div">
    <div class="col-md-12">
        <h4>Informações do Aviso Prévio.</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="detAvPrevio__div">
    <div class="col-md-12">
        <h4>Detalha as informações do evento trabalhista.</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="dtAvPrv__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Data do aviso prévio<a data-toggle="tooltip" title="Data em que o trabalhador ou o empregador recebeu o aviso de desligamento."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__infoAvPrevio__detAvPrevio__id__dtAvPrv" value="{{original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.dtAvPrv'}}" name="[evtAvPrevio][infoAvPrevio][detAvPrevio][dtAvPrv]" onkeyup="set_evento_json()" class="form-control automate-date" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="dtPrevDeslig__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Data prevista para o desligamento<a data-toggle="tooltip" title="Data prevista para o desligamento do trabalhador. Validação: Deve ser uma data igual ou superior a {dtAvPrv}."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__infoAvPrevio__detAvPrevio__id__dtPrevDeslig" value="{{original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.dtPrevDeslig'}}" name="[evtAvPrevio][infoAvPrevio][detAvPrevio][dtPrevDeslig]" onkeyup="set_evento_json()" class="form-control automate-date" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="tpAvPrevio__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Tipo de aviso prévio<a data-toggle="tooltip" title="Tipo de Aviso Prévio. Indica quem avisou o desligamento, conforme opções abaixo: 1 - Aviso prévio trabalhado dado pelo empregador ao empregado, que optou pela redução de duas horas diárias [caput do art. 488 da CLT]; 2 - Aviso prévio trabalhado dado pelo empregador ao empregado, que optou pela redução de dias corridos [parágrafo único do art. 488 da CLT]; 4 - Aviso prévio dado pelo empregado (pedido de demissão), não dispensado de seu cumprimento, sob pena de desconto, pelo empregador, dos salários correspondentes ao prazo respectivo (§2º do art. 487 da CLT); 5 - Aviso prévio trabalhado dado pelo empregador rural ao empregado, com redução de um dia por semana ( art. 15 da Lei nº 5889/73); 6 - Aviso prévio trabalhado decorrente de acordo entre empregado e empregador (art. 484-A, "caput", da CLT). Valores Válidos: 1, 2, 4, 5, 6."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <select id="evtAvPrevio__infoAvPrevio__detAvPrevio__id__tpAvPrevio" name="[evtAvPrevio][infoAvPrevio][detAvPrevio][tpAvPrevio]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}}>
            <option value="">---</option><option value="1" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.tpAvPrevio' 1 %}selected{% endifequal %}>1 - Aviso prévio trabalhado dado pelo empregador ao empregado, que optou pela redução de duas horas diárias [caput do art. 488 da CLT]</option><option value="2" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.tpAvPrevio' 2 %}selected{% endifequal %}>2 - Aviso prévio trabalhado dado pelo empregador ao empregado, que optou pela redução de dias corridos [parágrafo único do art. 488 da CLT]</option><option value="4" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.tpAvPrevio' 4 %}selected{% endifequal %}>4 - Aviso prévio dado pelo empregado (pedido de demissão), não dispensado de seu cumprimento, sob pena de desconto, pelo empregador, dos salários correspondentes ao prazo respectivo (§2º do art. 487 da CLT)</option><option value="5" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.tpAvPrevio' 5 %}selected{% endifequal %}>5 - Aviso prévio trabalhado dado pelo empregador rural ao empregado, com redução de um dia por semana ( art. 15 da Lei nº 5889/73)</option><option value="6" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.tpAvPrevio' 6 %}selected{% endifequal %}>6 - Aviso prévio trabalhado decorrente de acordo entre empregado e empregador (art. 484-A, "caput", da CLT). Valores Válidos</option>
            </select>
        </div>
    </div>
</div>

<div id="observacao__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Observações<a data-toggle="tooltip" title="Observações."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__infoAvPrevio__detAvPrevio__id__observacao" maxlength="255" value="{{original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.detAvPrevio.observacao'}}" name="[evtAvPrevio][infoAvPrevio][detAvPrevio][observacao]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}} />
        </div>
    </div>
</div>

            </div>
        </blockquote>
    </div>
</div>

<div id="cancAvPrevio__div">
    <div class="col-md-12">
        <h4>Cancelamento do Aviso Prévio. Regra de validação: REGRA_EXISTE_EVENTO_AVISO_PREVIO</h4>
    </div>
    <div class="col-md-12">
        <blockquote style="font-size: 14px;">
            <div class="row">

<div id="dtCancAvPrv__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Data de cancelamento do aviso prévio<a data-toggle="tooltip" title="Preencher com a data do cancelamento do aviso prévio. Validação: Deve ser uma data posterior a data do aviso prévio que está sendo cancelado."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__infoAvPrevio__cancAvPrevio__id__dtCancAvPrv" value="{{original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.cancAvPrevio.dtCancAvPrv'}}" name="[evtAvPrevio][infoAvPrevio][cancAvPrevio][dtCancAvPrv]" onkeyup="set_evento_json()" class="form-control automate-date" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="observacao__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Observações<a data-toggle="tooltip" title="Observações."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <input type="text" id="evtAvPrevio__infoAvPrevio__cancAvPrevio__id__observacao" maxlength="255" value="{{original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.cancAvPrevio.observacao'}}" name="[evtAvPrevio][infoAvPrevio][cancAvPrevio][observacao]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}} />
        </div>
    </div>
</div>

<div id="mtvCancAvPrevio__div">
    <div class="col-md-4">
        <div class="form-group">
            <label>Motivo do cancelamento do aviso prévio<a data-toggle="tooltip" title="Motivo do Cancelamento do Aviso Prévio: 1 - Reconsideração prevista no artigo 489 da CLT; 2 - Determinação Judicial; 3 - Cumprimento de norma legal; 9 - Outros. Valores Válidos: 1, 2, 3, 9."><i class="fa fa-fw fa-question-circle"></i></a></label>
            <select id="evtAvPrevio__infoAvPrevio__cancAvPrevio__id__mtvCancAvPrevio" name="[evtAvPrevio][infoAvPrevio][cancAvPrevio][mtvCancAvPrevio]" onkeyup="set_evento_json()" class="form-control" {{ original|disabled}}>
            <option value="">---</option><option value="1" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.cancAvPrevio.mtvCancAvPrevio' 1 %}selected{% endifequal %}>1 - Reconsideração prevista no artigo 489 da CLT</option><option value="2" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.cancAvPrevio.mtvCancAvPrevio' 2 %}selected{% endifequal %}>2 - Determinação Judicial</option><option value="3" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.cancAvPrevio.mtvCancAvPrevio' 3 %}selected{% endifequal %}>3 - Cumprimento de norma legal</option><option value="9" {% ifequal original.evento_json|readjson:'evtAvPrevio.infoAvPrevio.cancAvPrevio.mtvCancAvPrevio' 9 %}selected{% endifequal %}>9 - Outros. Valores Válidos</option>
            </select>
        </div>
    </div>
</div>

            </div>
        </blockquote>
    </div>
</div>

            </div>
        </blockquote>
    </div>
</div>

            </div>
        </blockquote>
    </div>
</div>

</div>

</form>
<script type="text/javascript">
function set_evento_json() {
    var dst = document.getElementById("id_evento_json");
    var dst_read = document.getElementById("id_evento_json_read");
    var obj = $('#form_json').serializeJSON();
    dst.value = JSON.stringify(obj);
    dst_read.value = JSON.stringify(obj);
};
$(document).ready(function(){
    set_evento_json();
});
$("#id_nrinsc").keyup(function() {
    var origem = document.getElementById("id_nrinsc");
    var destino_disabled = document.getElementById("evtInfoEmpregador__ideEmpregador__id__nrInsc_disabled")
    var destino = document.getElementById("evtInfoEmpregador__ideEmpregador__id__nrInsc")
    destino.value = origem.value;
    destino_disabled.value = origem.value;
    set_evento_json();
});
$("#id_tpinsc").on('change', function() {
    var origem = document.getElementById("id_tpinsc");
    var destino_disabled = document.getElementById("evtInfoEmpregador__ideEmpregador__id__tpInsc_disabled")
    var destino = document.getElementById("evtInfoEmpregador__ideEmpregador__id__tpInsc")
    destino.value = origem.value;
    $("#evtInfoEmpregador__ideEmpregador__id__tpInsc_disabled").val(origem.value).change();
    set_evento_json();
});
$("#id_procemi").on('change', function() {
    var origem = document.getElementById("id_procemi");
    var destino_disabled = document.getElementById("evtInfoEmpregador__ideEvento__id__procEmi_disabled")
    var destino = document.getElementById("evtInfoEmpregador__ideEvento__id__procEmi")
    destino.value = origem.value;
    $("#evtInfoEmpregador__ideEvento__id__procEmi_disabled").val(origem.value).change();
    set_evento_json();
});
$("#id_tpamb").on('change', function() {
    var origem = document.getElementById("id_tpamb");
    var destino_disabled = document.getElementById("evtInfoEmpregador__ideEvento__id__tpAmb_disabled")
    var destino = document.getElementById("evtInfoEmpregador__ideEvento__id__tpAmb")
    destino.value = origem.value;
    $("#evtInfoEmpregador__ideEvento__id__tpAmb_disabled").val(origem.value).change();
    set_evento_json();
});
$("#id_verproc").keyup(function() {
    var origem = document.getElementById("id_verproc");
    var destino_disabled = document.getElementById("evtInfoEmpregador__ideEvento__id__verProc_disabled")
    var destino = document.getElementById("evtInfoEmpregador__ideEvento__id__verProc")
    destino.value = origem.value;
    destino_disabled.value = origem.value;
    set_evento_json();
});
</script>
